{"ast":null,"code":"import queryString from 'querystring';\nconst client_id = process.env.REACT_APP_CLIENT_ID;\nconst client_secret = process.env.REACT_APP_CLIENT_SECRET;\nconst refresh_token = process.env.REACT_APP_REFRESH_TOKEN;\nconst basic = Buffer.from('${client_id:client_secret}').toString('base64');\nconst TOKEN_ENDPOINT = 'https://accounts.spotify.com/api/token';\nconst TOP_TRACKS_ENDPOINT = 'https://api.spotify.com/v1/me/top/artists';\nconst getAccessToken = async () => {\n  const response = await fetch(TOKEN_ENDPOINT, {\n    method: 'POST',\n    headers: {\n      Authorization: `Basic ${basic}`,\n      'Content-Type': 'application/x-www-form-urlencoded'\n    },\n    body: queryString.stringify({\n      grant_type: 'refresh_token',\n      refresh_token\n    })\n  });\n  return response.json();\n};\nexport const fetchTopArtist = async () => {\n  const {\n    access_token\n  } = await getAccessToken();\n  return fetch(TOP_TRACKS_ENDPOINT + \"?time_range=long_term&limit=10\", {\n    headers: {\n      'Authorization': `Bearer ${access_token}`\n    }\n  });\n};","map":{"version":3,"names":["queryString","client_id","process","env","REACT_APP_CLIENT_ID","client_secret","REACT_APP_CLIENT_SECRET","refresh_token","REACT_APP_REFRESH_TOKEN","basic","Buffer","from","toString","TOKEN_ENDPOINT","TOP_TRACKS_ENDPOINT","getAccessToken","response","fetch","method","headers","Authorization","body","stringify","grant_type","json","fetchTopArtist","access_token"],"sources":["/Users/joachimdemuth/Desktop/Almost-Done/src/lib/SpotifyAPI.jsx"],"sourcesContent":["import queryString from 'querystring'\n\nconst client_id = process.env.REACT_APP_CLIENT_ID;\nconst client_secret = process.env.REACT_APP_CLIENT_SECRET;\nconst refresh_token = process.env.REACT_APP_REFRESH_TOKEN;\n\nconst basic = Buffer.from('${client_id:client_secret}').toString('base64')\nconst TOKEN_ENDPOINT = 'https://accounts.spotify.com/api/token'\nconst TOP_TRACKS_ENDPOINT = 'https://api.spotify.com/v1/me/top/artists'\n\n\nconst getAccessToken = async () => {\n    const response = await fetch(TOKEN_ENDPOINT, {\n        method: 'POST',\n        headers: {\n            Authorization: `Basic ${basic}`,\n            'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: queryString.stringify({\n            grant_type: 'refresh_token', refresh_token,\n        }),\n    })\n\n    return response.json();\n}\n\n\nexport const fetchTopArtist = async () => {\n\n    const { access_token } = await getAccessToken()\n    return fetch(TOP_TRACKS_ENDPOINT + \"?time_range=long_term&limit=10\",\n    {\n        headers: {\n            'Authorization': `Bearer ${access_token}`,\n        }\n    })\n}\n\n\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,aAAa;AAErC,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB;AACjD,MAAMC,aAAa,GAAGH,OAAO,CAACC,GAAG,CAACG,uBAAuB;AACzD,MAAMC,aAAa,GAAGL,OAAO,CAACC,GAAG,CAACK,uBAAuB;AAEzD,MAAMC,KAAK,GAAGC,MAAM,CAACC,IAAI,CAAC,4BAA4B,CAAC,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1E,MAAMC,cAAc,GAAG,wCAAwC;AAC/D,MAAMC,mBAAmB,GAAG,2CAA2C;AAGvE,MAAMC,cAAc,GAAG,YAAY;EAC/B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,cAAc,EAAE;IACzCK,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACLC,aAAa,EAAG,SAAQX,KAAM,EAAC;MAC/B,cAAc,EAAE;IACpB,CAAC;IACDY,IAAI,EAAErB,WAAW,CAACsB,SAAS,CAAC;MACxBC,UAAU,EAAE,eAAe;MAAEhB;IACjC,CAAC;EACL,CAAC,CAAC;EAEF,OAAOS,QAAQ,CAACQ,IAAI,EAAE;AAC1B,CAAC;AAGD,OAAO,MAAMC,cAAc,GAAG,YAAY;EAEtC,MAAM;IAAEC;EAAa,CAAC,GAAG,MAAMX,cAAc,EAAE;EAC/C,OAAOE,KAAK,CAACH,mBAAmB,GAAG,gCAAgC,EACnE;IACIK,OAAO,EAAE;MACL,eAAe,EAAG,UAASO,YAAa;IAC5C;EACJ,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}